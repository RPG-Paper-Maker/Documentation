---
description: All you need to know about Map editor.
---

# Редактор карт

Після відкриття проєкту вікно виглядатиме наступним чином:

![](../.gitbook/assets/map-editor.png)

## Керування картами

Зверніть увагу на список карт **\(1\)**. Тут можна додавати, редагувати, видаляти, копіювати та вставляти карти. Ми рекомендуємо розкладати карти по директоріям за зонами гри. Після створення проєкту також створюється директорія `Бойові карти`, яку можна використовувати для карт, які використовуються як фон в битві. Якщо натиснути на карті `лівою` кнопкою миші, вона відкриється в редакторі карт **\(5\)**. Якщо натиснути `правою кнопкою миші`, відкриється контекстне меню:

![](../.gitbook/assets/new-map.png)

При виборі пунктів `Нова карта` або `Редагувати властивості карти` відкривається наступне вікно:

![](../.gitbook/assets/map-properties.png)

* `Назва`: Назва карти.
* `Набір тайлів`: Набір тайлів, який визначає багато інформації про використовуваний набір текстур \(зіткнення, динамічні текстури, тощо\). Про його налаштування буде розказано в наступному розділі.
* **Розмір**:
  * `Довжина`: Довжина карти в квадратах \(по осі X\).
  * `Ширина`: Ширина карти в квадратах \(по осі Z\).
  * `Висота`: Висота карти в квадратах \(по осі Y &gt; 0\).
  * `Глибина`: Глибина карти в квадратах \(по осі Y &lt; 0\).
* `Музика`: Музика, яка програється в фоні після заходу на карту.
* `Фоновий звук`: Фоновий звук, який програється разом з фоновою музикою. Це може бути вітер, дощ тощо.
* `№ властивостей камери`: № властивостей камери, які використовуються при заході на карту.
* **Небо**:
  * `№ кольору`: Унікальний номер кольору, який буде використовуватися в якості неба.
  * `Picture`: Зображення, яке буде використовуватися в якості неба.
  * `№ скайбокса`: Номер скайбокса, який буде використовуватися в якості неба.
* **Реакції при відкритті карти**: Тут можна налаштувати конкретні речі, які будуть виконуватися при заході на карту. Пізніше ми покажемо, як це можна налаштувати через об'єкти.
* **Битви:**

![](../.gitbook/assets/map-properties-battles.png)

* `№ бойової карти`: Номер бойової карти, який буде використовуватися при початку битви на цій карті \(якщо вибрані стандартні налаштування\)
* **Випадкові битви**:
  * `Список загонів`: 

![](../.gitbook/assets/random-battle.png)

* `№ загону`: Номер загону, з яким може початися битва
* `Приорітет`: Пріоритет цього загону
* `Імовірність`: Розрахована імовірність зустріти саме цей загін на основі пріоритетів всіх загонів
* `Земля`: Земля, при кроках на якій може початися випадкова битва
  * `Вся карта` : Битва може початися на всій карті
  * `Земля`: Можна вказати конкретні номери земель, на яких починається битва з вказаним загоном
* `Кількість кроків після наступної битви`: Кількість кроків, після якої починається випадкова битва
* `Варіантність (%)`: Процент відхилення кількості кроків від вказаного значення

## Пересування курсору / сітка / камера <a id="move-cursor-grid-camera"></a>

Камера завжди направлена на курсор, який показано таким чином:

![](../.gitbook/assets/cursor.png)

Ось деякі дії, які можна зробити з курсором:

* Пересунути його по осях `X` та `Z` клавішами `AWSD`.
* Пересунути його по осі `Y`:
  * Пересування по квадратах: використовуйте `CTRL + Стілки вверх/вниз` або `CTRL + коліщатко миші`
  * Пересування по пікселях: використовуйте `CTRL + SHIFT + Стрілки вверх/вниз` або `CTRL + SHIFT + коліщатко миші`

![](../.gitbook/assets/y-axis.png)

* Моментально перенести курсор на квадрат вибраного елементу можна натисканням `CTRL + Ліва кнопка миші`.

Щоб пересунути позицію камери, натисніть на `коліщатко миші` та пересуньте миш в потрібному напрямку:

![](../.gitbook/assets/camera-turn.gif)

## Розміщення / видалення елементів <a id="place-remove-elements"></a>

Область вибору елемента карти **\(3\)** дозволяє вибрати, який елемент розміщатиметься на карті \(підлоги, спрайти, об'єкти, рельєфи тощо\). Ви також можете додати або видалити щось на певному квадраті, натиснувши лівою або правою кнопкою миші.

Ось приклад з підлогою:

![](../.gitbook/assets/map-editor-add-remove.png)

## Скасування / повторення <a id="undo-redo"></a>

Після будь-якої зміни карти можна перейти назад або вперед. Натисніть `CTRL+Z`, щоб скасувати дію, або `CTRL+Y`, щоб повторити скасовану дію.

## Запис змін <a id="save-changes"></a>

Щоб записати зміни в редакторі карт, можна використовувати наступні кнопки на панелі інструментів:

![](../.gitbook/assets/save.png)

* `Запис`: Записує зміни на відкритій зараз карті.
* `Все`: Записує зміни на всіх редагованих картах. Якщо карта була відредагована, після її назви буде показуватися зірочка `*`:

![](../.gitbook/assets/map-save.png)

## Показ / приховання інформації в інтерфейсі <a id="show-hide-some-ui-details"></a>

* `G`: Показати / приховати сітку
* `I`: Показати / приховати інформацію про квадрат, на який показує курсор миші:

![](../.gitbook/assets/square-infos.png)

## Зміна режиму малювання <a id="change-paint-mode"></a>

Нижче показано різні режими малювання **\(4\)** для малювання елементів карти:

![](../.gitbook/assets/paint.png)

* `Олівець`: Малює квадрати по одному.
* `Прямокутник`: Малює квадрати по формі прямокутника **\(поки що не реалізоване\)**.
* `Заливка`: Заповнює квадрати з тою з текстурою, яку має квадрат, на який буде вказано мишкою.

## Нижні грані <a id="lands"></a>

Нижче показано доступні типи нижніх гранів:

![](../.gitbook/assets/lands.png)

## Підлоги <a id="floors"></a>

В області вибору текстур **\(2\)** можна вибрати прямокутник в якості текстури. Після вибору натисніть на квадрат карти, щоб поставити там вибрану текстуру.

![](../.gitbook/assets/add-floor.png)

## Автотайли <a id="autotiles"></a>

Автотайли — це динамічні підлоги. В них є межі, і вони автоматично мінятимуться в залежності від сусідніх квадратів:

![](../.gitbook/assets/autotiles-preview.png)

В області вибору тексту **\(2\)** треба лише вибрати квадрат:

![](../.gitbook/assets/autotile-texture.png)

## Спрайти <a id="sprites"></a>

![](../.gitbook/assets/sprites.png)

Спрайти — це вертикальні поверхні, які дозволяють симулювати «паперовий» мір. Вось різні типи спрайтів:

![](../.gitbook/assets/sprites-preview.png)

* `Лицьовий спрайт`: спрайт, який завжди повернуто до камери по осям X та Y.
* `Фіксований` : плаский спрайт.
* `Подвійний спрайт`: два пласких спрайти, які перетинаються.
* `Почетверений спрайт`: чотири пласких спрайти, які перетинаються.

Існує ще один тип спрайтів — `Спрайти стін`. Вони динамічні \(як автотайли\).

![](../.gitbook/assets/walls-preview.png)

В області вибору текстур **\(2\)** треба вибрати стіну:

![](../.gitbook/assets/walls-texture.png)

## Гори <a id="mountains"></a>

Гори дозволяють зробити карти рельєфними!

![](../.gitbook/assets/mountains-preview.png)

В області вибору текстури **\(2\)** є декілька налаштувань для додавання гір:

![](../.gitbook/assets/mountains-texture.png)

* `Підлога зверху`: Підлога, яка буде автоматично додана на верхню частину гір. Натисніть на кнопку `...`, щоб відредагувати підлогу зверху.
* `Ширина межі`: Якщо ширина межі дорівнює нулю, гора буде під кутом 90°. Це налаштування дозволяє вказати ширину меж гір \(щоб створити менші схили\).
  * `квадрат(ів)`: Вказується кількість квадратів.
  * `піксел(ів)`: Вказується кількість пікселів.
* `Висота`: Сумарна висота гори.
  * `квадрат(ів)`: Вказується кількість квадратів.
  * `піксел(ів)`: Вказується кількість пікселів, які додаються до квадратів.

Зверніть увагу, що можна задати максимальний кут, після якого гори стануть заважати руху, в розділі лімітів зіткнення на сторінці `Керування системами > Система`.

## 3D-об'єкти <a id="3d-objects"></a>

На картах доступні не тільки спрайти, але і тривимірні об'єкти!

![](../.gitbook/assets/objects-3d-preview.png)

В області вибора текстур **\(2\)** треба вказати потрібний об'єкт:

![](../.gitbook/assets/objects-3d-texture.png)

## Об'єкти <a id="objects"></a>

Всі попередні елементи були статичними \(не рухалися\). Крім того, можна додати об'єкти, щоб зробити карту більш живою. Це можуть бути неігрові персонажі, скрині тощо.

![](../.gitbook/assets/objects.png)

Робота з ними буде описана пізніше. Це одна з найбільших тем під час роботи з редактором.

## Герой / героїня <a id="the-hero"></a>

Щоб визначити, де почнеться гра, потрібно визначити, хто буде героєм або героїнею на одній з ваших карт. Коли ви створюєте новий проєкт, героєм буде персонаж в центрі першої карти. Якщо ви хочете змінити його, ось простий спосіб:

* Виберіть пустий квадрат в режимі об'єктів, натисніть правою кнопкою миші та виберіть пункт `Визначити як героя` в контекстному меню.

![](../.gitbook/assets/define-as-the-hero-none.png)

Інший \(складніший\) метод таки:

* Створіть новий об'єкт \(`Двічі натисніть лівою кнопкою миші` по квадрату\)
* Видаліть всі стани і події зі списків \(кнопкою `Del` на клавіатурі\) і виберіть `Hero` в якості моделі в відповідному полі. Можна назвати цей об'єкт «Героїня» або «Герой». В результаті мають бути приблизно такі налаштування:

![](../.gitbook/assets/object-map%20%281%29.png)

* Натисніть на кнопку `Гаразд`. `Натисніть правою кнопкою миші` по об'єкту і виберіть пункт `Визначити як героя`.

![](../.gitbook/assets/define-hero.png)

Це все! Потім буде пояснено, навіщо використовувати об'єкт — це відкриває багато можливостей для створення нестандартних ігрових механік!

_Зауваження:_ Герой або героїня відмічається символом «S» знизу.

![](../.gitbook/assets/hero.png)

## Трансформації <a id="transformations"></a>

В 3D трансформації є наступними трьома різними діями:

### Зсув <a id="translation"></a>

_Поки що недоступний._

### Повертання <a id="rotation"></a>

Повертання доступне лише для підлог, спрайтів та 3D-об'єктів.

![](../.gitbook/assets/rotate.png)

Якщо ви натиснете по елементу карти лівою або правою кнопкою миші, цей об'єкт буде виділено, і до нього буде застосовано вибрані налаштування трансформації. Ви можете вказати поворот по осях `X`, `Y` або `Z`, який буде застосовано при натисканні.

![](../.gitbook/assets/rotation-panel.png)

* `[Вибраний об'єкт]`: Display information about the current selected object bellow. New transformations will be applied to this selected object.
* `+ / =`: Операція, яка буде використана при трансформації \(додавання або встановлення\).
* `Кут`: Кут, який будо додано до вибраного об'єкту або присвоєно йому.
* `Застосувати правою/лівою кнопкою миші`: Якщо ця опція вибрана, трансформацію буде застосовано при натисненні на об'єкт. Якщо вибрана операція `+`, права кнопка миші буде робити зворотну операцію `-`. Якщо ця опція не вибрана, вибраний об'єкт мінятиметься зразу ж при зміні поля `Кут`.
* `Встановити як стандарт. X/Y/Z поворот`: Записати поточне значення поля `Кут` в налаштування рушія, щоб це значення вибиралося щоразу після запуску редактора.
* `Скинути до стандарту X/Y/Z поворот`: Заміняє поточне значення поля `Кут` записаним стандартним значенням повороту..

### Масштабування <a id="scaling"></a>

_Недоступне._

## Опції шарів <a id="layers-options"></a>

Наступні опції дозволяють вибрати, використовується режим шарів чи ні:

![](../.gitbook/assets/layers.png)

* `Без шарів`: Заміняє вибраний квадрат новим.
* `З шарами`: Розміщає новий квадрат над вибраним. Обмежень по кількості немає.

Приклад використання шарів зі стінами:

![](../.gitbook/assets/image%20%281%29%20%281%29.png)

## Скайбокси <a id="layers-options"></a>

Скайбокси дозволяють створити ілюзію величезного тривимірного простору.

![](../.gitbook/assets/skybox.png)

Скайбокс — це просто величезний куб з текстурою, який повертається за камерою. Відредагувати скайбокси можна в розділі `Керування системами > Система > Sky boxes`:

![](../.gitbook/assets/system-skyboxes.png)

Після цього скайбокс можна вибрати у властивостях карти в полі `№ скайбокса`.

